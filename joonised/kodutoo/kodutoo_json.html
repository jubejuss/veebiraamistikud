<!doctype html>
<html>

<head>
    <title>Terviseamtei avaandmed</title>

    <script>

        let my_json = fetch("example.json").then(connection => connection.text()).
            then(data => {
                console.log(data);
            });

        console.log(my_json);

        function tootle() {
            let TotalCases = m.map(row => row[5]);

            //sisse eshitatud rehkendamine
            const summ = (previousValue, currentValue) => previousValue + currentValue; //prev ja current on muutujad, ise vÃµin valida
            let summm = (TotalCases.reduce(summ)).toFixed(2);
            console.log("Summa: " + (TotalCases.reduce(summ)).toFixed(2));

            const max = Math.max(...TotalCases);
            console.log("maksimaalne: " + max)

            const min = Math.min(...TotalCases);
            console.log("minimaalne: " + min)

            let avg = (summm / TotalCases.length).toFixed(2);
            console.log("Keskmine: " + avg)
            console.log(TotalCases.length);




            temperatuuridKuudeKaupa();
        }

        function temperatuuridKuudeKaupa() {
            kt = _.range(13).map(element => []);
            console.log(kt);
            m.forEach(row => kt[row[0]].push(row[5]));
            ks = kt.map(kuu => _.sum(kuu));
            kk = kt.map(kuu => _.sum(kuu) / kuu.length);

            console.log("KK: " + kk);
        }
    </script>
</head>

<body>

</body>

</html>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chart width slider</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body class="bg-warning">
    <div class="col-md-6 offset-md-3 py-5">
        <div class="card">
            <div class="card-body">
                <h1>Dynamic Chart JS<button class="btn btn-success" onClick="updateChart()">Update</button><button
                        class="btn btn-info" onClick="addValue()">+1</button></h1>
                </h1>
            </div>
            <div class="card-body">
                <canvas id="myChart"></canvas>
            </div>
        </div>
    </div>




    <script>
        const oldData = [0, 10, 5, 2, 20, 30, 45];
        const newData = [10, 20, 30, 40, 50, 60, 70];
        const oldData1 = [99, 22, 9, 2, 20, 30, 1];
        const newData1 = [44, 10, 50, 55, 50, 22, 55];
        const labels = [
            'January',
            'February',
            'March',
            'April',
            'May',
            'June',
            'July',
        ];
        const data = {
            labels: labels,
            datasets: [{
                label: 'My First dataset',
                backgroundColor: 'rgb(255, 99, 132)',
                borderColor: 'rgb(255, 99, 132)',
                data: oldData,
            },
            {
                label: 'My Second dataset',
                backgroundColor: 'rgb(255, 255, 132)',
                borderColor: 'rgb(255, 255, 132)',
                data: oldData1,
            }]
        };


        const config = {
            type: 'line',
            data: data,
            options: {}
        };
        // === include 'setup' then 'config' above ===

        var chart = new Chart(
            document.getElementById('myChart'),
            config
        );
        function updateChart() {
            // chart.data.datasets[0].data = newData;
            // chart.data.datasets[1].data = newData1;
            chart.data.labels = ["August", "September", "October", "November", "December"];
            chart.update();
        };

        //pop remove last
        //shift remove first
        //unshift add value the beginning
        //push add value end
        function addValue() {
            chart.data.datasets[0].data.pop(999);
            //chart.data.datasets[0].data.push(999);
            chart.data.labels.push("January");
            chart.update();
        }

    </script>
</body>

</html>